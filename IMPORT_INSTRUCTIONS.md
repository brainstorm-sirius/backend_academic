# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–º–ø–æ—Ä—Ç—É CSV –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–æ–∏—Å–∫–∞

## üì• –®–∞–≥ 1: –ò–º–ø–æ—Ä—Ç CSV —Ñ–∞–π–ª–æ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞:

```bash
python import_csv.py
```

–°–∫—Ä–∏–ø—Ç:
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—ã `authors` –∏ `author_interests` –≤ –≤–∞—à–µ–π –ë–î
- ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ `authors_expanded_with_ids.csv` (–∞–≤—Ç–æ—Ä—ã –∏ —Å—Ç–∞—Ç—å–∏)
- ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ `authors_scientific_interests.csv` (–Ω–∞—É—á–Ω—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç batch-–≤—Å—Ç–∞–≤–∫—É –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–ø–æ 1000 –∑–∞–ø–∏—Å–µ–π –∑–∞ —Ä–∞–∑)

**–í—Ä–µ–º—è –∏–º–ø–æ—Ä—Ç–∞:** –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤, –Ω–æ –æ–±—ã—á–Ω–æ –∑–∞–Ω–∏–º–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç.

## üîç –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞ —á–µ—Ä–µ–∑ API

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ endpoints:

### 1. –û–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π –ø–æ–∏—Å–∫ (–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ + –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)

```bash
GET /search?query=–ò–≤–∞–Ω&limit=10
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "registered_users": [
    {
      "id": 1,
      "login": "ivan_scientist",
      "email": "ivan@example.com",
      "first_name": "–ò–≤–∞–Ω",
      "last_name": "–ò–≤–∞–Ω–æ–≤",
      ...
    }
  ],
  "unregistered_authors": [
    {
      "id": 123,
      "author_name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
      "title": "–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏",
      "author_id": "abc123",
      ...
    }
  ],
  "author_interests": [
    {
      "author_id": "abc123",
      "author_name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
      "interests_list": "Physics, Mathematics",
      "main_interest": "Physics",
      ...
    }
  ]
}
```

### 2. –ü–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ –ø–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

```bash
GET /search/users?username=ivan&limit=10
```

### 3. –ü–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ –ø–æ –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∞–≤—Ç–æ—Ä–∞–º

```bash
GET /search/authors?name=–ü–µ—Ç—Ä–æ–≤&limit=10
```

### 4. –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—É—á–Ω—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã –∞–≤—Ç–æ—Ä–∞ –ø–æ ID

```bash
GET /authors/{author_id}/interests
```

–ü—Ä–∏–º–µ—Ä:
```bash
GET /authors/1e92c72c1df7/interests
```

## üß™ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ß–µ—Ä–µ–∑ curl:

```bash
# –û–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π –ø–æ–∏—Å–∫
curl "http://localhost:8000/search?query=Smith&limit=5"

# –ü–æ–∏—Å–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
curl "http://localhost:8000/search/users?username=john&limit=5"

# –ü–æ–∏—Å–∫ –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ—Ä–æ–≤
curl "http://localhost:8000/search/authors?name=Smith&limit=5"

# –ù–∞—É—á–Ω—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã –∞–≤—Ç–æ—Ä–∞
curl "http://localhost:8000/authors/1e92c72c1df7/interests"
```

### –ß–µ—Ä–µ–∑ Python:

```python
import requests

# –û–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π –ø–æ–∏—Å–∫
response = requests.get("http://localhost:8000/search", params={
    "query": "Smith",
    "limit": 10
})
data = response.json()

print(f"–ù–∞–π–¥–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: {len(data['registered_users'])}")
print(f"–ù–∞–π–¥–µ–Ω–æ –∞–≤—Ç–æ—Ä–æ–≤: {len(data['unregistered_authors'])}")
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `authors` (–Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ—Ä—ã)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç–∞—Ç—å—è—Ö –∏ –∞–≤—Ç–æ—Ä–∞—Ö
- –°–≤—è–∑—å —á–µ—Ä–µ–∑ `author_id` —Å —Ç–∞–±–ª–∏—Ü–µ–π `author_interests`

### –¢–∞–±–ª–∏—Ü–∞ `author_interests` (–Ω–∞—É—á–Ω—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã)
- –ù–∞—É—á–Ω—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã –∫–∞–∂–¥–æ–≥–æ –∞–≤—Ç–æ—Ä–∞
- –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞, –∫–ª–∞—Å—Ç–µ—Ä—ã, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞—Ç–µ–π

### –¢–∞–±–ª–∏—Ü–∞ `users` (–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ò–Ω–¥–µ–∫—Å—ã:** –í —Ç–∞–±–ª–∏—Ü–∞—Ö —Å–æ–∑–¥–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ `author_name` –∏ `author_id` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
2. **–ü–æ–∏—Å–∫:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `LIKE` —Å —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º –ø–æ–∏—Å–∫–æ–º
3. **–õ–∏–º–∏—Ç—ã:** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –¥–æ 10 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –º–∞–∫—Å–∏–º—É–º 100
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –î–ª—è –±–æ–ª—å—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `limit`

## üîÑ –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∏–º–ø–æ—Ä—Ç

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ:
1. –£–¥–∞–ª–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –∏–∑ –ë–î (–∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª `users.db`)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python import_csv.py` —Å–Ω–æ–≤–∞

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SQL:
```sql
DROP TABLE IF EXISTS authors;
DROP TABLE IF EXISTS author_interests;
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏–º–ø–æ—Ä—Ç –∑–∞–Ω–æ–≤–æ.

